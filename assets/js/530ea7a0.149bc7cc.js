"use strict";(self.webpackChunkcodiac=self.webpackChunkcodiac||[]).push([[8689],{1148:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>d,toc:()=>l});var i=t(4848),r=t(8453);const s={sidebar_label:"Setup",sidebar_position:1,title:"Getting Started",description:"Get started with Codiac.",tags:["Intro","Getting started"]},o=void 0,d={id:"getting-started/setup",title:"Getting Started",description:"Get started with Codiac.",source:"@site/docs/getting-started/setup.md",sourceDirName:"getting-started",slug:"/getting-started/setup",permalink:"/scratch/getting-started/setup",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/getting-started/setup.md",tags:[{label:"Intro",permalink:"/scratch/tags/intro"},{label:"Getting started",permalink:"/scratch/tags/getting-started"}],version:"current",sidebarPosition:1,frontMatter:{sidebar_label:"Setup",sidebar_position:1,title:"Getting Started",description:"Get started with Codiac.",tags:["Intro","Getting started"]},sidebar:"tutorialSidebar",previous:{title:"Getting Started",permalink:"/scratch/getting-started/"},next:{title:"Quick - Extend CRUD",permalink:"/scratch/getting-started/quickstart-extend-crud"}},c={},l=[{value:"Install the Prerequisites",id:"install-the-prerequisites",level:2},{value:"Docker Desktop",id:"docker-desktop",level:3},{value:"Codiac",id:"codiac",level:3},{value:"Azure CLI",id:"azure-cli",level:3},{value:"Node.js",id:"nodejs",level:3},{value:"Create a new EMPTY git repo",id:"create-a-new-empty-git-repo",level:2},{value:"GitHub:",id:"github",level:3},{value:"Azure DevOps:",id:"azure-devops",level:3},{value:"Bitbucket",id:"bitbucket",level:3},{value:"Important:",id:"important",level:2},{value:"Create your Codiac API project",id:"create-your-codiac-api-project",level:2},{value:"Open the new project in VSCode",id:"open-the-new-project-in-vscode",level:2},{value:"Set your Identity Tokens",id:"set-your-identity-tokens",level:2},{value:"Note:",id:"note",level:2},{value:"Build",id:"build",level:2},{value:"Run",id:"run",level:2},{value:"Bare-metal",id:"bare-metal",level:3},{value:"Container",id:"container",level:3},{value:"Verify the Run",id:"verify-the-run",level:2},{value:"Check in your code",id:"check-in-your-code",level:2},{value:"Add a set of RESTful CRUD endpoints for an entity",id:"add-a-set-of-restful-crud-endpoints-for-an-entity",level:2},{value:"Check in your code",id:"check-in-your-code-1",level:2},{value:"Publish your image",id:"publish-your-image",level:2},{value:"Congratulations!",id:"congratulations",level:2}];function a(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.h2,{id:"install-the-prerequisites",children:"Install the Prerequisites"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.h3,{id:"docker-desktop",children:(0,i.jsx)(n.a,{href:"https://www.docker.com/products/docker-desktop",children:"Docker Desktop"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.h3,{id:"codiac",children:(0,i.jsx)(n.a,{href:"http://codiac.io",children:"Codiac"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"npm i -g @codiac.io/codiac-cli\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.h3,{id:"azure-cli",children:(0,i.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/cli/azure/install-azure-cli",children:"Azure CLI"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.h3,{id:"nodejs",children:(0,i.jsx)(n.a,{href:"https://nodejs.org/en/download/",children:"Node.js"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.h2,{id:"create-a-new-empty-git-repo",children:"Create a new EMPTY git repo"}),"\n",(0,i.jsxs)(n.p,{children:["Also, you will be adding your own content, so you will not need to create it with a gitignore or a readme file ",(0,i.jsx)(n.em,{children:"(though its ok if you do)"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"github",children:"GitHub:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://docs.github.com/en/free-pro-team@latest/github/getting-started-with-github/create-a-repo",children:"Creating a new repo"})}),"\n",(0,i.jsx)(n.h3,{id:"azure-devops",children:"Azure DevOps:"}),"\n",(0,i.jsxs)(n.p,{children:["Either ",(0,i.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/azure/devops/user-guide/sign-up-invite-teammates?view=azure-devops",children:"with a new project"}),"  or ",(0,i.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/azure/devops/repos/git/create-new-repo?view=azure-devops",children:"from an existing project"})]}),"\n",(0,i.jsx)(n.h3,{id:"bitbucket",children:"Bitbucket"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://support.atlassian.com/bitbucket-cloud/docs/create-a-git-repository/",children:"Creating a new repo"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"important",children:"Important:"}),"\n",(0,i.jsx)(n.p,{children:"Be sure to copy the clone URL because you'll need it in the next step."}),"\n",(0,i.jsx)(n.hr,{}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.h2,{id:"create-your-codiac-api-project",children:"Create your Codiac API project"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Open a command line and navigate to the ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"PARENT"})})," folder you like to use for development projects"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"cd ~/dev\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Initialize a new project into that folder using your clone url"}),"\n",(0,i.jsxs)(n.p,{children:["We are going to use the optional ",(0,i.jsx)(n.code,{children:"-t"})," parameter (aka: ",(0,i.jsx)(n.code,{children:"--projectType"}),") to specify that we want to initialize as an ",(0,i.jsx)(n.code,{children:"api"})," project type:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"cod init -t api -c [your-clone-url] ./[target-folder]\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.em,{children:['Note: replace "',(0,i.jsx)(n.code,{children:"[your-clone-url]"}),'" and "',(0,i.jsx)(n.code,{children:"[target-folder]"}),'" in that example with the clone url for the new repo you just created and the folder into which you want to clone it.']})}),"\n",(0,i.jsx)(n.p,{children:"This command will open your project into a new VSCode instance.  Give it a minute while installs all the npm packages for the api project type."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.h2,{id:"open-the-new-project-in-vscode",children:"Open the new project in VSCode"}),"\n",(0,i.jsx)(n.p,{children:"Give it a minute while installs all the npm packages for the api project type."}),"\n",(0,i.jsx)(n.p,{children:"Open a command line window to the root of your new project folder."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.h2,{id:"set-your-identity-tokens",children:"Set your Identity Tokens"}),"\n",(0,i.jsx)(n.p,{children:"If you are going to be accessing private npm packages,\nyou'll need identity tokens for your package registry(ies) in order to build successfully.  In that case, set your identity tokens before building:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"cod identity --provider npm --token abc23pdq456e.etcetera.etcetera\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"note",children:"Note:"}),"\n",(0,i.jsxs)(n.p,{children:["You can always get help on any command by calling it with the ",(0,i.jsx)(n.code,{children:"--help"})," argument, eg:  ",(0,i.jsx)(n.code,{children:"cod identity --help"})]}),"\n",(0,i.jsx)(n.hr,{}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.h2,{id:"build",children:"Build"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"cod build\n"})}),"\n",(0,i.jsxs)(n.p,{children:["NOTE: This command creates a new ",(0,i.jsx)(n.code,{children:"Dockerfile"})," in your project root if you do not already have one.  If you want to regenerate your Dockerfile, just delete this file and run build again."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.h2,{id:"run",children:"Run"}),"\n",(0,i.jsx)(n.h3,{id:"bare-metal",children:"Bare-metal"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"(just the api, without a container)"})}),"\n",(0,i.jsxs)(n.p,{children:["From the VSCode menus, select ",(0,i.jsx)(n.code,{children:"Run > Start Debugging"}),",\nor hit ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"F5"})})]}),"\n",(0,i.jsx)(n.h3,{id:"container",children:"Container"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"(using Docker desktop)"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"cod run\nor\ncod run --port [1234]\n"})}),"\n",(0,i.jsx)(n.p,{children:"In both cases logs will write to your output window, and when the api has successfully bootstrapped itself, it will provide you the address at which to access it in the following log message:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"apiHost listening on 0.0.0.0:5775..."})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.h2,{id:"verify-the-run",children:"Verify the Run"}),"\n",(0,i.jsxs)(n.p,{children:["Verify it by ",(0,i.jsx)(n.strong,{children:"hitting a few of the built-in endpoints"})," using your favorite api client (",(0,i.jsx)(n.a,{href:"https://www.getpostman.com/",children:"Postman's a good one"}),")"]}),"\n",(0,i.jsx)(n.p,{children:"Version:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"GET http://127.0.0.1:1775/version\n"})}),"\n",(0,i.jsx)(n.p,{children:"openApi spec:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"GET http://127.0.0.1:1775/openApi\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.h2,{id:"check-in-your-code",children:"Check in your code"}),"\n",(0,i.jsx)(n.p,{children:"Now that you've created your api, and verified that its a good build and run, it is a good time to put a stake in the ground and commit your code."}),"\n",(0,i.jsx)(n.p,{children:"You can do this with git, but the codiac CLI also provides you several source code commands to keep things simple."}),"\n",(0,i.jsxs)(n.p,{children:["The example below uses the ",(0,i.jsx)(n.code,{children:"stage"})," command with the ",(0,i.jsx)(n.code,{children:"-c"})," (aka: ",(0,i.jsx)(n.code,{children:"--commit"}),") argument to perform both the stage and commit in the same step."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'cod stage -A -c "Initial project creation"\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.em,{children:["See also: ",(0,i.jsx)(n.code,{children:"commit"}),", ",(0,i.jsx)(n.code,{children:"pull"}),", ",(0,i.jsx)(n.code,{children:"push"}),", ",(0,i.jsx)(n.code,{children:"branch"}),", ",(0,i.jsx)(n.code,{children:"switch"}),", ",(0,i.jsx)(n.code,{children:"status"}),", ",(0,i.jsx)(n.code,{children:"merge"}),", ",(0,i.jsx)(n.code,{children:"sync"})]})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.h2,{id:"add-a-set-of-restful-crud-endpoints-for-an-entity",children:"Add a set of RESTful CRUD endpoints for an entity"}),"\n",(0,i.jsx)(n.p,{children:'Let\'s say you have a "shoe" entity in your business domain, and you want to enable consumers of your api to create, read, update, and delete it (aka: CRUD).'}),"\n",(0,i.jsx)(n.p,{children:"The ApiDef extensions make easy work of this, and you're going to need to tell them a few things about your shoe entity."}),"\n",(0,i.jsxs)(n.p,{children:["a. Create a class for your shoe and be sure that it implements ",(0,i.jsx)(n.code,{children:"IDomainEntity"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-Typescript",children:"export class shoe implements IDomainEntity\n{\n    constructor(public size: number, public brand: string, public model: string, public gender: string, id?: string) {\n        this.id = id;\n    }\n\n    public id: string|undefined;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"b. To enable searching on your entity, you'll need a criteria object that will enable your endpoint consumers parameterize their searches."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-Typescript",children:"export class shoeCriteria\n{\n    constructor(public size?: number, public brand?: string, public model?: string, public gender?: string, public id?: string) {\n    }\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"CONVENTION"}),": Each property on the criteria object will apply to the corresponding property of that name on the domain entity."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"NOTE"}),": Notice the use of optional properties on the criteria object example... api consumers will set only the properties they want to search on, so you'll want your endpoints to be able to know when a given property is relevant."]}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"docs/searching-and-criteria.md",children:"Searching and Criteria"})," for more on supporting searches."]}),"\n",(0,i.jsx)(n.p,{children:"Ok, now that you have your entity and its corresponding criteria object, you're ready to declare a set of CRUD endpoints for it."}),"\n",(0,i.jsxs)(n.p,{children:["Open the ",(0,i.jsx)(n.strong,{children:"constructor"})," for your api definition and declare a crud set..."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-Typescript",children:'this.addCrudsFor<shoe,shoeCriteria>(shoe, "shoecriteria", "/shoes");\n'})}),"\n",(0,i.jsxs)(n.p,{children:["As you can see, the ",(0,i.jsx)(n.code,{children:"addCruds"})," method also wants you to declare the route ",(0,i.jsxs)(n.em,{children:["(",(0,i.jsx)(n.code,{children:"/shoes"})," in this case)"]})," in addition to the domain entity and its criteria."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Build and Run"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"cod build\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"VSCode > Run > Start Debugging"}),"  or hit ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"F5"})})]}),"\n",(0,i.jsx)(n.p,{children:"or"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"cod run\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Now let's take a look at your new endpoints"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.em,{children:["(NOTE: They are automatically documented on the swagger page of your api: GET ",(0,i.jsx)(n.a,{href:"http://127.0.0.1:1775/openApi",children:"http://127.0.0.1:1775/openApi"}),")"]})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Create, CreateMany","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"POST http://127.0.0.1:1775/shoes/new\nPOST http://127.0.0.1:1775/shoes\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Read, ReadMany","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"GET http://127.0.0.1:1775/shoes/{id}\nGET http://127.0.0.1:1775/shoes\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Update, UpdateMany","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"PUT http://127.0.0.1:1775/shoes/{id}    \nPUT http://127.0.0.1:1775/shoes\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Delete, DeleteWhere","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"DELETE http://127.0.0.1:1775/shoes/{id}\nDELETE http://127.0.0.1:1775/shoes\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"AND..."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Patch, PatchWhere  (there are ",(0,i.jsx)(n.a,{href:"docs/patch-and-update.md",children:"3 diff types of patch"})," based on content-type header)","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"PATCH http://127.0.0.1:1775/shoes/{id}\nPATCH http://127.0.0.1:1775/shoes\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"(ok, so it's not just CRUD, it's CRUD-P....  Yay!)"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.h2,{id:"check-in-your-code-1",children:"Check in your code"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'cod stage -A -c "Added show cruds"\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.h2,{id:"publish-your-image",children:"Publish your image"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"cod publish\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"congratulations",children:"Congratulations!"}),"\n",(0,i.jsxs)(n.p,{children:["Hopefully your brain fired off a couple ",(0,i.jsx)(n.a,{href:"https://www.amazon.com/dp/1591848016/ref=cm_sw_em_r_mt_dp_U_PRhVCb40VY80N",children:"Dopamine hits"})," as you worked thru that quick implementation and watched it snap together.  And look at that, you have a fully functional, RESTful, standards-compliant API!"]}),"\n",(0,i.jsx)(n.p,{children:"Now that you've enjoyed your little moment of self-actualization, it's time to propel yourself even further:\n**Check out some more info and examples:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"quickstart-1.md",children:"Quickstart #1: (Quickest) Build a Custom Endpoint in < 10 mins"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"quickstart-2.md",children:"Quickstart #2: Database cruds in < 30 minutes"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"quickstart-3.md",children:"Quickstart #3: Extending Crud operations and custom data design in < 45 minutes"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>d});var i=t(6540);const r={},s=i.createContext(r);function o(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);